// Code generated by ddbgen. DO NOT EDIT.

package example

import (
	"fmt"
	"github.com/acksell/bezos/dynamodb/ddbsdk"
	"github.com/acksell/bezos/dynamodb/index"
	"github.com/acksell/bezos/dynamodb/index/indices"
	"github.com/acksell/bezos/dynamodb/table"
	"strconv"
	"time"
)

// =============================================================================
// User Index Wrapper
// =============================================================================

// UserIndexUtil wraps the PrimaryIndex with strongly-typed methods.
type UserIndexUtil struct {
	*index.PrimaryIndex[User]
}

// UserIndex is the typed wrapper for User operations.
// Initialized in init() to ensure indices.Add() calls complete first.
var UserIndex UserIndexUtil

// PrimaryKey creates a primary key from explicit parameters.
func (idx UserIndexUtil) PrimaryKey(id string) table.PrimaryKey {
	return table.PrimaryKey{
		Definition: idx.Table.KeyDefinitions,
		Values: table.PrimaryKeyValues{
			PartitionKey: "USER#" + id,
			SortKey:      "PROFILE",
		},
	}
}

// PrimaryKeyFrom creates the primary key from a User entity.
func (idx UserIndexUtil) PrimaryKeyFrom(e *User) table.PrimaryKey {
	return table.PrimaryKey{
		Definition: idx.Table.KeyDefinitions,
		Values: table.PrimaryKeyValues{
			PartitionKey: "USER#" + e.UserID,
			SortKey:      "PROFILE",
		},
	}
}

// GSIKeysFrom creates all GSI keys from a User entity.
func (idx UserIndexUtil) GSIKeysFrom(e *User) []table.PrimaryKey {
	return []table.PrimaryKey{
		{
			Definition: idx.Secondary[0].KeyDefinition(),
			Values: table.PrimaryKeyValues{
				PartitionKey: "EMAIL#" + e.Email,
				SortKey:      "USER#" + e.UserID,
			},
		},
	}
}

// UnsafePut creates a Put operation without optimistic locking.
func (idx UserIndexUtil) UnsafePut(e *User) *ddbsdk.Put {
	return ddbsdk.NewUnsafePut(idx.Table, idx.PrimaryKeyFrom(e), e).WithGSIKeys(idx.GSIKeysFrom(e)...)
}

// SafePut creates a Put operation with optimistic locking.
func (idx UserIndexUtil) SafePut(e *User) *ddbsdk.PutWithCondition {
	return ddbsdk.NewSafePut(idx.Table, idx.PrimaryKeyFrom(e), e).WithGSIKeys(idx.GSIKeysFrom(e)...)
}

// Delete creates a Delete operation.
func (idx UserIndexUtil) Delete(id string) *ddbsdk.Delete {
	return ddbsdk.NewDelete(idx.Table, idx.PrimaryKey(id))
}

// UnsafeUpdate creates an Update operation without optimistic locking.
func (idx UserIndexUtil) UnsafeUpdate(id string) *ddbsdk.UnsafeUpdate {
	return ddbsdk.NewUnsafeUpdate(idx.Table, idx.PrimaryKey(id))
}

// GSI1Key creates a key for querying the GSI1 GSI.
func (idx UserIndexUtil) GSI1Key(email string, id string) table.PrimaryKey {
	return table.PrimaryKey{
		Definition: idx.Secondary[0].KeyDefinition(),
		Values: table.PrimaryKeyValues{
			PartitionKey: "EMAIL#" + email,
			SortKey:      "USER#" + id,
		},
	}
}

// -------------------------------------------------------------------------
// Primary Index Query Builder
// -------------------------------------------------------------------------

// UserPrimaryQuery is a query builder for the primary index.
type UserPrimaryQuery struct {
	idx *UserIndexUtil
	qd  ddbsdk.QueryDef
}

// Build returns the underlying QueryDef, implementing ddbsdk.QueryBuilder.
func (q UserPrimaryQuery) Build() ddbsdk.QueryDef { return q.qd }

// QueryPartition creates a query for the given partition key on the primary index.
func (idx UserIndexUtil) QueryPartition(id string) UserPrimaryQuery {
	return UserPrimaryQuery{
		idx: &idx,
		qd:  ddbsdk.QueryPartition(idx.Table, "USER#"+id),
	}
}

// -------------------------------------------------------------------------
// UserIndexGSI1 - Query-only GSI Wrapper
// -------------------------------------------------------------------------

// UserIndexGSI1Util provides query methods for the GSI1 GSI.
type UserIndexGSI1Util struct {
	primary *UserIndexUtil
}

// UserIndexGSI1 is the query-only wrapper for the GSI1 GSI.
// Initialized in init() to ensure index vars are populated first.
var UserIndexGSI1 UserIndexGSI1Util

// UserGSI1Query is a query builder for the GSI1 GSI.
type UserGSI1Query struct {
	idx *UserIndexGSI1Util
	qd  ddbsdk.QueryDef
}

// QueryDef returns the underlying QueryDef, implementing ddbsdk.QueryDefinition.
func (q UserGSI1Query) QueryDef() ddbsdk.QueryDef { return q.qd }

// QueryPartition creates a query for the given partition key on the GSI1 GSI.
func (idx UserIndexGSI1Util) QueryPartition(email string) UserGSI1Query {
	return UserGSI1Query{
		idx: &idx,
		qd:  ddbsdk.QueryPartition(idx.primary.Table, "EMAIL#"+email).OnIndex("GSI1"),
	}
}

// IdEquals adds a sort key equals condition and returns the final QueryDef.
func (q UserGSI1Query) IdEquals(id string) ddbsdk.QueryDef {
	return q.qd.WithSKCondition(ddbsdk.Equals("USER#" + id))
}

// IdBeginsWith adds a sort key begins_with condition and returns the final QueryDef.
func (q UserGSI1Query) IdBeginsWith(prefix string) ddbsdk.QueryDef {
	return q.qd.WithSKCondition(ddbsdk.BeginsWith("USER#" + prefix))
}

// IdBetween adds a sort key between condition and returns the final QueryDef.
func (q UserGSI1Query) IdBetween(idStart string, idEnd string) ddbsdk.QueryDef {
	return q.qd.WithSKCondition(ddbsdk.Between("USER#"+idStart, "USER#"+idEnd))
}

// IdGreaterThan adds a sort key > condition and returns the final QueryDef.
func (q UserGSI1Query) IdGreaterThan(id string) ddbsdk.QueryDef {
	return q.qd.WithSKCondition(ddbsdk.GreaterThan("USER#" + id))
}

// IdGreaterThanOrEqual adds a sort key >= condition and returns the final QueryDef.
func (q UserGSI1Query) IdGreaterThanOrEqual(id string) ddbsdk.QueryDef {
	return q.qd.WithSKCondition(ddbsdk.GreaterThanOrEqual("USER#" + id))
}

// IdLessThan adds a sort key < condition and returns the final QueryDef.
func (q UserGSI1Query) IdLessThan(id string) ddbsdk.QueryDef {
	return q.qd.WithSKCondition(ddbsdk.LessThan("USER#" + id))
}

// IdLessThanOrEqual adds a sort key <= condition and returns the final QueryDef.
func (q UserGSI1Query) IdLessThanOrEqual(id string) ddbsdk.QueryDef {
	return q.qd.WithSKCondition(ddbsdk.LessThanOrEqual("USER#" + id))
}

// =============================================================================
// Order Index Wrapper
// =============================================================================

// OrderIndexUtil wraps the PrimaryIndex with strongly-typed methods.
type OrderIndexUtil struct {
	*index.PrimaryIndex[Order]
}

// OrderIndex is the typed wrapper for Order operations.
// Initialized in init() to ensure indices.Add() calls complete first.
var OrderIndex OrderIndexUtil

// PrimaryKey creates a primary key from explicit parameters.
func (idx OrderIndexUtil) PrimaryKey(tenantID string, orderID string) table.PrimaryKey {
	return table.PrimaryKey{
		Definition: idx.Table.KeyDefinitions,
		Values: table.PrimaryKeyValues{
			PartitionKey: "TENANT#" + tenantID,
			SortKey:      "ORDER#" + orderID,
		},
	}
}

// PrimaryKeyFrom creates the primary key from a Order entity.
func (idx OrderIndexUtil) PrimaryKeyFrom(e *Order) table.PrimaryKey {
	return table.PrimaryKey{
		Definition: idx.Table.KeyDefinitions,
		Values: table.PrimaryKeyValues{
			PartitionKey: "TENANT#" + e.TenantID,
			SortKey:      "ORDER#" + e.OrderID,
		},
	}
}

// UnsafePut creates a Put operation without optimistic locking.
func (idx OrderIndexUtil) UnsafePut(e *Order) *ddbsdk.Put {
	return ddbsdk.NewUnsafePut(idx.Table, idx.PrimaryKeyFrom(e), e)
}

// Delete creates a Delete operation.
func (idx OrderIndexUtil) Delete(tenantID string, orderID string) *ddbsdk.Delete {
	return ddbsdk.NewDelete(idx.Table, idx.PrimaryKey(tenantID, orderID))
}

// UnsafeUpdate creates an Update operation without optimistic locking.
func (idx OrderIndexUtil) UnsafeUpdate(tenantID string, orderID string) *ddbsdk.UnsafeUpdate {
	return ddbsdk.NewUnsafeUpdate(idx.Table, idx.PrimaryKey(tenantID, orderID))
}

// -------------------------------------------------------------------------
// Primary Index Query Builder
// -------------------------------------------------------------------------

// OrderPrimaryQuery is a query builder for the primary index.
type OrderPrimaryQuery struct {
	idx *OrderIndexUtil
	qd  ddbsdk.QueryDef
}

// Build returns the underlying QueryDef, implementing ddbsdk.QueryBuilder.
func (q OrderPrimaryQuery) Build() ddbsdk.QueryDef { return q.qd }

// QueryPartition creates a query for the given partition key on the primary index.
func (idx OrderIndexUtil) QueryPartition(tenantID string) OrderPrimaryQuery {
	return OrderPrimaryQuery{
		idx: &idx,
		qd:  ddbsdk.QueryPartition(idx.Table, "TENANT#"+tenantID),
	}
}

// OrderIDEquals adds a sort key equals condition and returns the final QueryDef.
func (q OrderPrimaryQuery) OrderIDEquals(orderID string) ddbsdk.QueryDef {
	return q.qd.WithSKCondition(ddbsdk.Equals("ORDER#" + orderID))
}

// OrderIDBeginsWith adds a sort key begins_with condition and returns the final QueryDef.
func (q OrderPrimaryQuery) OrderIDBeginsWith(prefix string) ddbsdk.QueryDef {
	return q.qd.WithSKCondition(ddbsdk.BeginsWith("ORDER#" + prefix))
}

// OrderIDBetween adds a sort key between condition and returns the final QueryDef.
func (q OrderPrimaryQuery) OrderIDBetween(orderIDStart string, orderIDEnd string) ddbsdk.QueryDef {
	return q.qd.WithSKCondition(ddbsdk.Between("ORDER#"+orderIDStart, "ORDER#"+orderIDEnd))
}

// OrderIDGreaterThan adds a sort key > condition and returns the final QueryDef.
func (q OrderPrimaryQuery) OrderIDGreaterThan(orderID string) ddbsdk.QueryDef {
	return q.qd.WithSKCondition(ddbsdk.GreaterThan("ORDER#" + orderID))
}

// OrderIDGreaterThanOrEqual adds a sort key >= condition and returns the final QueryDef.
func (q OrderPrimaryQuery) OrderIDGreaterThanOrEqual(orderID string) ddbsdk.QueryDef {
	return q.qd.WithSKCondition(ddbsdk.GreaterThanOrEqual("ORDER#" + orderID))
}

// OrderIDLessThan adds a sort key < condition and returns the final QueryDef.
func (q OrderPrimaryQuery) OrderIDLessThan(orderID string) ddbsdk.QueryDef {
	return q.qd.WithSKCondition(ddbsdk.LessThan("ORDER#" + orderID))
}

// OrderIDLessThanOrEqual adds a sort key <= condition and returns the final QueryDef.
func (q OrderPrimaryQuery) OrderIDLessThanOrEqual(orderID string) ddbsdk.QueryDef {
	return q.qd.WithSKCondition(ddbsdk.LessThanOrEqual("ORDER#" + orderID))
}

// =============================================================================
// Message Index Wrapper
// =============================================================================

// MessageIndexUtil wraps the PrimaryIndex with strongly-typed methods.
type MessageIndexUtil struct {
	*index.PrimaryIndex[Message]
}

// MessageIndex is the typed wrapper for Message operations.
// Initialized in init() to ensure indices.Add() calls complete first.
var MessageIndex MessageIndexUtil

// PrimaryKey creates a primary key from explicit parameters.
func (idx MessageIndexUtil) PrimaryKey(chatID string, sequenceNum int64) table.PrimaryKey {
	return table.PrimaryKey{
		Definition: idx.Table.KeyDefinitions,
		Values: table.PrimaryKeyValues{
			PartitionKey: "CHAT#" + chatID,
			SortKey:      "MSG#" + strconv.FormatInt(sequenceNum, 10),
		},
	}
}

// PrimaryKeyFrom creates the primary key from a Message entity.
func (idx MessageIndexUtil) PrimaryKeyFrom(e *Message) table.PrimaryKey {
	return table.PrimaryKey{
		Definition: idx.Table.KeyDefinitions,
		Values: table.PrimaryKeyValues{
			PartitionKey: "CHAT#" + e.ChatID,
			SortKey:      "MSG#" + strconv.FormatInt(e.SequenceNum, 10),
		},
	}
}

// UnsafePut creates a Put operation without optimistic locking.
func (idx MessageIndexUtil) UnsafePut(e *Message) *ddbsdk.Put {
	return ddbsdk.NewUnsafePut(idx.Table, idx.PrimaryKeyFrom(e), e)
}

// Delete creates a Delete operation.
func (idx MessageIndexUtil) Delete(chatID string, sequenceNum int64) *ddbsdk.Delete {
	return ddbsdk.NewDelete(idx.Table, idx.PrimaryKey(chatID, sequenceNum))
}

// UnsafeUpdate creates an Update operation without optimistic locking.
func (idx MessageIndexUtil) UnsafeUpdate(chatID string, sequenceNum int64) *ddbsdk.UnsafeUpdate {
	return ddbsdk.NewUnsafeUpdate(idx.Table, idx.PrimaryKey(chatID, sequenceNum))
}

// -------------------------------------------------------------------------
// Primary Index Query Builder
// -------------------------------------------------------------------------

// MessagePrimaryQuery is a query builder for the primary index.
type MessagePrimaryQuery struct {
	idx *MessageIndexUtil
	qd  ddbsdk.QueryDef
}

// Build returns the underlying QueryDef, implementing ddbsdk.QueryBuilder.
func (q MessagePrimaryQuery) Build() ddbsdk.QueryDef { return q.qd }

// QueryPartition creates a query for the given partition key on the primary index.
func (idx MessageIndexUtil) QueryPartition(chatID string) MessagePrimaryQuery {
	return MessagePrimaryQuery{
		idx: &idx,
		qd:  ddbsdk.QueryPartition(idx.Table, "CHAT#"+chatID),
	}
}

// SequenceNumEquals adds a sort key equals condition and returns the final QueryDef.
func (q MessagePrimaryQuery) SequenceNumEquals(sequenceNum int64) ddbsdk.QueryDef {
	return q.qd.WithSKCondition(ddbsdk.Equals("MSG#" + strconv.FormatInt(sequenceNum, 10)))
}

// SequenceNumBeginsWith adds a sort key begins_with condition and returns the final QueryDef.
func (q MessagePrimaryQuery) SequenceNumBeginsWith(prefix string) ddbsdk.QueryDef {
	return q.qd.WithSKCondition(ddbsdk.BeginsWith("MSG#" + prefix))
}

// SequenceNumBetween adds a sort key between condition and returns the final QueryDef.
func (q MessagePrimaryQuery) SequenceNumBetween(sequenceNumStart int64, sequenceNumEnd int64) ddbsdk.QueryDef {
	return q.qd.WithSKCondition(ddbsdk.Between("MSG#"+strconv.FormatInt(sequenceNumStart, 10), "MSG#"+strconv.FormatInt(sequenceNumEnd, 10)))
}

// SequenceNumGreaterThan adds a sort key > condition and returns the final QueryDef.
func (q MessagePrimaryQuery) SequenceNumGreaterThan(sequenceNum int64) ddbsdk.QueryDef {
	return q.qd.WithSKCondition(ddbsdk.GreaterThan("MSG#" + strconv.FormatInt(sequenceNum, 10)))
}

// SequenceNumGreaterThanOrEqual adds a sort key >= condition and returns the final QueryDef.
func (q MessagePrimaryQuery) SequenceNumGreaterThanOrEqual(sequenceNum int64) ddbsdk.QueryDef {
	return q.qd.WithSKCondition(ddbsdk.GreaterThanOrEqual("MSG#" + strconv.FormatInt(sequenceNum, 10)))
}

// SequenceNumLessThan adds a sort key < condition and returns the final QueryDef.
func (q MessagePrimaryQuery) SequenceNumLessThan(sequenceNum int64) ddbsdk.QueryDef {
	return q.qd.WithSKCondition(ddbsdk.LessThan("MSG#" + strconv.FormatInt(sequenceNum, 10)))
}

// SequenceNumLessThanOrEqual adds a sort key <= condition and returns the final QueryDef.
func (q MessagePrimaryQuery) SequenceNumLessThanOrEqual(sequenceNum int64) ddbsdk.QueryDef {
	return q.qd.WithSKCondition(ddbsdk.LessThanOrEqual("MSG#" + strconv.FormatInt(sequenceNum, 10)))
}

// =============================================================================
// Event Index Wrapper
// =============================================================================

// EventIndexUtil wraps the PrimaryIndex with strongly-typed methods.
type EventIndexUtil struct {
	*index.PrimaryIndex[Event]
}

// EventIndex is the typed wrapper for Event operations.
// Initialized in init() to ensure indices.Add() calls complete first.
var EventIndex EventIndexUtil

// PrimaryKey creates a primary key from explicit parameters.
func (idx EventIndexUtil) PrimaryKey(eventID string, timestamp time.Time) table.PrimaryKey {
	return table.PrimaryKey{
		Definition: idx.Table.KeyDefinitions,
		Values: table.PrimaryKeyValues{
			PartitionKey: "EVENT#" + eventID,
			SortKey:      "EVENT#" + fmt.Sprintf("%020d", timestamp.UnixNano()),
		},
	}
}

// PrimaryKeyFrom creates the primary key from a Event entity.
func (idx EventIndexUtil) PrimaryKeyFrom(e *Event) table.PrimaryKey {
	return table.PrimaryKey{
		Definition: idx.Table.KeyDefinitions,
		Values: table.PrimaryKeyValues{
			PartitionKey: "EVENT#" + e.EventID,
			SortKey:      "EVENT#" + fmt.Sprintf("%020d", e.Timestamp.UnixNano()),
		},
	}
}

// UnsafePut creates a Put operation without optimistic locking.
func (idx EventIndexUtil) UnsafePut(e *Event) *ddbsdk.Put {
	return ddbsdk.NewUnsafePut(idx.Table, idx.PrimaryKeyFrom(e), e)
}

// Delete creates a Delete operation.
func (idx EventIndexUtil) Delete(eventID string, timestamp time.Time) *ddbsdk.Delete {
	return ddbsdk.NewDelete(idx.Table, idx.PrimaryKey(eventID, timestamp))
}

// UnsafeUpdate creates an Update operation without optimistic locking.
func (idx EventIndexUtil) UnsafeUpdate(eventID string, timestamp time.Time) *ddbsdk.UnsafeUpdate {
	return ddbsdk.NewUnsafeUpdate(idx.Table, idx.PrimaryKey(eventID, timestamp))
}

// -------------------------------------------------------------------------
// Primary Index Query Builder
// -------------------------------------------------------------------------

// EventPrimaryQuery is a query builder for the primary index.
type EventPrimaryQuery struct {
	idx *EventIndexUtil
	qd  ddbsdk.QueryDef
}

// Build returns the underlying QueryDef, implementing ddbsdk.QueryBuilder.
func (q EventPrimaryQuery) Build() ddbsdk.QueryDef { return q.qd }

// QueryPartition creates a query for the given partition key on the primary index.
func (idx EventIndexUtil) QueryPartition(eventID string) EventPrimaryQuery {
	return EventPrimaryQuery{
		idx: &idx,
		qd:  ddbsdk.QueryPartition(idx.Table, "EVENT#"+eventID),
	}
}

// TimestampEquals adds a sort key equals condition and returns the final QueryDef.
func (q EventPrimaryQuery) TimestampEquals(timestamp time.Time) ddbsdk.QueryDef {
	return q.qd.WithSKCondition(ddbsdk.Equals("EVENT#" + fmt.Sprintf("%020d", timestamp.UnixNano())))
}

// TimestampBeginsWith adds a sort key begins_with condition and returns the final QueryDef.
func (q EventPrimaryQuery) TimestampBeginsWith(prefix string) ddbsdk.QueryDef {
	return q.qd.WithSKCondition(ddbsdk.BeginsWith("EVENT#" + prefix))
}

// TimestampBetween adds a sort key between condition and returns the final QueryDef.
func (q EventPrimaryQuery) TimestampBetween(timestampStart time.Time, timestampEnd time.Time) ddbsdk.QueryDef {
	return q.qd.WithSKCondition(ddbsdk.Between("EVENT#"+fmt.Sprintf("%020d", timestampStart.UnixNano()), "EVENT#"+fmt.Sprintf("%020d", timestampEnd.UnixNano())))
}

// TimestampGreaterThan adds a sort key > condition and returns the final QueryDef.
func (q EventPrimaryQuery) TimestampGreaterThan(timestamp time.Time) ddbsdk.QueryDef {
	return q.qd.WithSKCondition(ddbsdk.GreaterThan("EVENT#" + fmt.Sprintf("%020d", timestamp.UnixNano())))
}

// TimestampGreaterThanOrEqual adds a sort key >= condition and returns the final QueryDef.
func (q EventPrimaryQuery) TimestampGreaterThanOrEqual(timestamp time.Time) ddbsdk.QueryDef {
	return q.qd.WithSKCondition(ddbsdk.GreaterThanOrEqual("EVENT#" + fmt.Sprintf("%020d", timestamp.UnixNano())))
}

// TimestampLessThan adds a sort key < condition and returns the final QueryDef.
func (q EventPrimaryQuery) TimestampLessThan(timestamp time.Time) ddbsdk.QueryDef {
	return q.qd.WithSKCondition(ddbsdk.LessThan("EVENT#" + fmt.Sprintf("%020d", timestamp.UnixNano())))
}

// TimestampLessThanOrEqual adds a sort key <= condition and returns the final QueryDef.
func (q EventPrimaryQuery) TimestampLessThanOrEqual(timestamp time.Time) ddbsdk.QueryDef {
	return q.qd.WithSKCondition(ddbsdk.LessThanOrEqual("EVENT#" + fmt.Sprintf("%020d", timestamp.UnixNano())))
}

// =============================================================================
// RandomEntity Index Wrapper
// =============================================================================

// RandomEntityIndexUtil wraps the PrimaryIndex with strongly-typed methods.
type RandomEntityIndexUtil struct {
	*index.PrimaryIndex[RandomEntity]
}

// RandomEntityIndex is the typed wrapper for RandomEntity operations.
// Initialized in init() to ensure indices.Add() calls complete first.
var RandomEntityIndex RandomEntityIndexUtil

// PrimaryKey creates a primary key from explicit parameters.
func (idx RandomEntityIndexUtil) PrimaryKey() table.PrimaryKey {
	return table.PrimaryKey{
		Definition: idx.Table.KeyDefinitions,
		Values: table.PrimaryKeyValues{
			PartitionKey: "world",
			SortKey:      []byte{0x48, 0x65, 0x6c, 0x6c, 0x6f},
		},
	}
}

// PrimaryKeyFrom creates the primary key from a RandomEntity entity.
func (idx RandomEntityIndexUtil) PrimaryKeyFrom(e *RandomEntity) table.PrimaryKey {
	return table.PrimaryKey{
		Definition: idx.Table.KeyDefinitions,
		Values: table.PrimaryKeyValues{
			PartitionKey: "world",
			SortKey:      []byte{0x48, 0x65, 0x6c, 0x6c, 0x6f},
		},
	}
}

// GSIKeysFrom creates all GSI keys from a RandomEntity entity.
func (idx RandomEntityIndexUtil) GSIKeysFrom(e *RandomEntity) []table.PrimaryKey {
	return []table.PrimaryKey{
		{
			Definition: idx.Secondary[0].KeyDefinition(),
			Values: table.PrimaryKeyValues{
				PartitionKey: "LOL",
				SortKey:      "SAME#" + e.ID,
			},
		},
	}
}

// UnsafePut creates a Put operation without optimistic locking.
func (idx RandomEntityIndexUtil) UnsafePut(e *RandomEntity) *ddbsdk.Put {
	return ddbsdk.NewUnsafePut(idx.Table, idx.PrimaryKeyFrom(e), e).WithGSIKeys(idx.GSIKeysFrom(e)...)
}

// Delete creates a Delete operation.
func (idx RandomEntityIndexUtil) Delete() *ddbsdk.Delete {
	return ddbsdk.NewDelete(idx.Table, idx.PrimaryKey())
}

// UnsafeUpdate creates an Update operation without optimistic locking.
func (idx RandomEntityIndexUtil) UnsafeUpdate() *ddbsdk.UnsafeUpdate {
	return ddbsdk.NewUnsafeUpdate(idx.Table, idx.PrimaryKey())
}

// GSI1Key creates a key for querying the GSI1 GSI.
func (idx RandomEntityIndexUtil) GSI1Key(id string) table.PrimaryKey {
	return table.PrimaryKey{
		Definition: idx.Secondary[0].KeyDefinition(),
		Values: table.PrimaryKeyValues{
			PartitionKey: "LOL",
			SortKey:      "SAME#" + id,
		},
	}
}

// -------------------------------------------------------------------------
// Primary Index Query Builder
// -------------------------------------------------------------------------

// RandomEntityPrimaryQuery is a query builder for the primary index.
type RandomEntityPrimaryQuery struct {
	idx *RandomEntityIndexUtil
	qd  ddbsdk.QueryDef
}

// Build returns the underlying QueryDef, implementing ddbsdk.QueryBuilder.
func (q RandomEntityPrimaryQuery) Build() ddbsdk.QueryDef { return q.qd }

// QueryPartition creates a query for the given partition key on the primary index.
func (idx RandomEntityIndexUtil) QueryPartition() RandomEntityPrimaryQuery {
	return RandomEntityPrimaryQuery{
		idx: &idx,
		qd:  ddbsdk.QueryPartition(idx.Table, "world"),
	}
}

// -------------------------------------------------------------------------
// RandomEntityIndexGSI1 - Query-only GSI Wrapper
// -------------------------------------------------------------------------

// RandomEntityIndexGSI1Util provides query methods for the GSI1 GSI.
type RandomEntityIndexGSI1Util struct {
	primary *RandomEntityIndexUtil
}

// RandomEntityIndexGSI1 is the query-only wrapper for the GSI1 GSI.
// Initialized in init() to ensure index vars are populated first.
var RandomEntityIndexGSI1 RandomEntityIndexGSI1Util

// RandomEntityGSI1Query is a query builder for the GSI1 GSI.
type RandomEntityGSI1Query struct {
	idx *RandomEntityIndexGSI1Util
	qd  ddbsdk.QueryDef
}

// QueryDef returns the underlying QueryDef, implementing ddbsdk.QueryDefinition.
func (q RandomEntityGSI1Query) QueryDef() ddbsdk.QueryDef { return q.qd }

// QueryPartition creates a query for the given partition key on the GSI1 GSI.
func (idx RandomEntityIndexGSI1Util) QueryPartition() RandomEntityGSI1Query {
	return RandomEntityGSI1Query{
		idx: &idx,
		qd:  ddbsdk.QueryPartition(idx.primary.Table, "LOL").OnIndex("GSI1"),
	}
}

// IdEquals adds a sort key equals condition and returns the final QueryDef.
func (q RandomEntityGSI1Query) IdEquals(id string) ddbsdk.QueryDef {
	return q.qd.WithSKCondition(ddbsdk.Equals("SAME#" + id))
}

// IdBeginsWith adds a sort key begins_with condition and returns the final QueryDef.
func (q RandomEntityGSI1Query) IdBeginsWith(prefix string) ddbsdk.QueryDef {
	return q.qd.WithSKCondition(ddbsdk.BeginsWith("SAME#" + prefix))
}

// IdBetween adds a sort key between condition and returns the final QueryDef.
func (q RandomEntityGSI1Query) IdBetween(idStart string, idEnd string) ddbsdk.QueryDef {
	return q.qd.WithSKCondition(ddbsdk.Between("SAME#"+idStart, "SAME#"+idEnd))
}

// IdGreaterThan adds a sort key > condition and returns the final QueryDef.
func (q RandomEntityGSI1Query) IdGreaterThan(id string) ddbsdk.QueryDef {
	return q.qd.WithSKCondition(ddbsdk.GreaterThan("SAME#" + id))
}

// IdGreaterThanOrEqual adds a sort key >= condition and returns the final QueryDef.
func (q RandomEntityGSI1Query) IdGreaterThanOrEqual(id string) ddbsdk.QueryDef {
	return q.qd.WithSKCondition(ddbsdk.GreaterThanOrEqual("SAME#" + id))
}

// IdLessThan adds a sort key < condition and returns the final QueryDef.
func (q RandomEntityGSI1Query) IdLessThan(id string) ddbsdk.QueryDef {
	return q.qd.WithSKCondition(ddbsdk.LessThan("SAME#" + id))
}

// IdLessThanOrEqual adds a sort key <= condition and returns the final QueryDef.
func (q RandomEntityGSI1Query) IdLessThanOrEqual(id string) ddbsdk.QueryDef {
	return q.qd.WithSKCondition(ddbsdk.LessThanOrEqual("SAME#" + id))
}

func init() {
	UserIndex = UserIndexUtil{PrimaryIndex: indices.Get[User]()}
	UserIndexGSI1 = UserIndexGSI1Util{primary: &UserIndex}
	OrderIndex = OrderIndexUtil{PrimaryIndex: indices.Get[Order]()}
	MessageIndex = MessageIndexUtil{PrimaryIndex: indices.Get[Message]()}
	EventIndex = EventIndexUtil{PrimaryIndex: indices.Get[Event]()}
	RandomEntityIndex = RandomEntityIndexUtil{PrimaryIndex: indices.Get[RandomEntity]()}
	RandomEntityIndexGSI1 = RandomEntityIndexGSI1Util{primary: &RandomEntityIndex}
}
